{"version":3,"file":"static/webpack/static\\development\\pages\\owner.js.afb6ab2d0a6327fee6cd.hot-update.js","sources":["webpack:///./components/hoc/withAuth.js"],"sourcesContent":["import React from 'react';\r\nimport BaseLayout from '../layouts/BaseLayout';\r\nimport BasePage from '../BasePage';\r\n\r\nconst namespace = 'http://localhost:4000/';\r\n\r\nexport default function(Component, role) {\r\n    return class withAuth extends React.Component{\r\n        \r\n        static async getInitialProps(args){\r\n            const pageProps = await Component.getInitialProps && await Component.getInitialProps(args);\r\n            // Check if the Component has getInitialProps() and call that fn()\r\n\r\n            return { ...pageProps };\r\n        }\r\n\r\n        renderProtectedPage(){\r\n            const { isAuthenticated, user } = this.props.auth;\r\n            const userRole = user && user[`${namespace}role`];\r\n            const isAuthorized = false;\r\n            debugger;\r\n\r\n            if( role ){\r\n                if(userRole && userRole === role){ isAuthorized = true  };\r\n            }else{\r\n                isAuthorized = true;\r\n            }\r\n            \r\n            if(isAuthenticated){\r\n                return( <Component { ...this.props } /> )\r\n            }else{\r\n                return(\r\n                    <BaseLayout {...this.props.auth}>\r\n                        <BasePage>\r\n                            <h1>You're not allowed to view this page, Login to view this page</h1>\r\n                        </BasePage> \r\n                    </BaseLayout>\r\n                )\r\n            }\r\n        }\r\n\r\n        render(){\r\n            return this.renderProtectedPage()\r\n        }\r\n    }\r\n}\r\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AAEA;AAEA;AACA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AACA;AADA;AAAA;AACA;AADA;AAAA;AAAA;AASA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AADA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAOA;AACA;AAhCA;AAAA;AAAA;AAmCA;AACA;AApCA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AACA;AADA;AAAA;AACA;AADA;AAGA;AAHA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAsCA;;;;A","sourceRoot":""}